<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkillSense ‚Äì Your Skill Insights</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      color: white;
      text-decoration: none;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      transition: all 0.3s ease;
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .back-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateX(-5px);
    }

    h1 {
      text-align: center;
      color: white;
      font-size: 3rem;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      font-weight: 700;
    }

    /* Profile Header */
    .profile-header {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .profile-info {
      text-align: center;
      margin-bottom: 20px;
    }

    .profile-name {
      font-size: 2rem;
      color: #2d3748;
      margin-bottom: 5px;
      font-weight: 700;
    }

    .profile-title {
      font-size: 1.2rem;
      color: #718096;
      margin-bottom: 20px;
    }

    .sources-used {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .source-badge {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .source-badge.resume {
      background: #e6fffa;
      color: #234e52;
      border: 1px solid #81e6d9;
    }

    .source-badge.linkedin {
      background: #e3f2fd;
      color: #1565c0;
      border: 1px solid #90caf9;
    }

    .source-badge.github {
      background: #f3e5f5;
      color: #7b1fa2;
      border: 1px solid #ce93d8;
    }

    .social-profiles {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .social-profile {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border: 1px solid transparent;
    }

    .social-profile.linkedin {
      background: #0077b5;
      color: white;
    }

    .social-profile.github {
      background: #333;
      color: white;
    }

    .social-profile:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .skills-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .skill-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .skill-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2);
    }

    .skill-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .skill-card h3 {
      color: #2d3748;
      font-size: 1.5rem;
      margin-bottom: 15px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .skill-card h3::before {
      content: '‚ö°';
      font-size: 1.2rem;
    }

    .confidence-badge {
      display: inline-block;
      background: linear-gradient(135deg, #4CAF50, #8BC34A);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }

    .skill-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .skill-category {
      background: #f1f5f9;
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 0.8rem;
      color: #64748b;
    }

    .skill-sources {
      display: flex;
      gap: 5px;
    }

    .source-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .source-dot.resume {
      background: #38b2ac;
    }

    .source-dot.linkedin {
      background: #0077b5;
    }

    .source-dot.github {
      background: #333;
    }

    .evidence-section {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #e2e8f0;
    }

    .evidence-section strong {
      color: #4a5568;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: block;
      margin-bottom: 10px;
    }

    .evidence-list {
      list-style: none;
    }

    .evidence-list li {
      background: #f7fafc;
      padding: 12px 15px;
      margin-bottom: 8px;
      border-radius: 10px;
      border-left: 4px solid #667eea;
      font-size: 0.9rem;
      line-height: 1.5;
      transition: all 0.3s ease;
    }

    .evidence-list li:hover {
      background: #edf2f7;
      transform: translateX(5px);
    }

    .no-evidence {
      color: #a0aec0;
      font-style: italic;
      text-align: center;
      padding: 20px;
      background: #f7fafc;
      border-radius: 10px;
      border: 2px dashed #e2e8f0;
    }

    .no-skills {
      text-align: center;
      color: white;
      font-size: 1.2rem;
      margin-top: 50px;
      padding: 40px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .skill-card[data-category="Programming Languages"]::before {
      background: linear-gradient(90deg, #e53e3e, #ed8936);
    }

    .skill-card[data-category="Web Development"]::before {
      background: linear-gradient(90deg, #38b2ac, #0bc5ea);
    }

    .skill-card[data-category="Data Science"]::before {
      background: linear-gradient(90deg, #805ad5, #d53f8c);
    }

    .skill-card[data-category="Cloud & DevOps"]::before {
      background: linear-gradient(90deg, #3182ce, #4299e1);
    }

    .skill-card[data-category="Databases"]::before {
      background: linear-gradient(90deg, #38a169, #48bb78);
    }

    .skill-card[data-category="Tools"]::before {
      background: linear-gradient(90deg, #d69e2e, #ecc94b);
    }

    .skill-card[data-category="Soft Skills"]::before {
      background: linear-gradient(90deg, #4a5568, #718096);
    }

    .confidence-high {
      background: linear-gradient(135deg, #48bb78, #38a169) !important;
    }

    .confidence-medium {
      background: linear-gradient(135deg, #ed8936, #dd6b20) !important;
    }

    .confidence-low {
      background: linear-gradient(135deg, #e53e3e, #c53030) !important;
    }

    .stats-overview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .skill-card {
      animation: fadeInUp 0.6s ease forwards;
    }

    .skill-card:nth-child(odd) {
      animation-delay: 0.1s;
    }

    .skill-card:nth-child(even) {
      animation-delay: 0.2s;
    }

    @media (max-width: 768px) {
      .container {
        padding: 20px 15px;
      }
      
      h1 {
        font-size: 2rem;
        margin-bottom: 30px;
      }
      
      .skills-list {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .skill-card {
        padding: 20px;
      }
      
      .stats-overview {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .social-profiles {
        flex-direction: column;
        align-items: center;
      }
      
      .social-profile {
        width: 200px;
        justify-content: center;
      }
      
      .sources-used {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 480px) {
      .stats-overview {
        grid-template-columns: 1fr;
      }
      
      .back-btn {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="/" class="back-btn">
      <span>‚Üê</span>
      Back to Analysis
    </a>

    <h1>üéØ Your Skill Insights</h1>

    {% if profile and profile.skills %}
      <!-- Stats Overview -->
      <div class="stats-overview">
        <div class="stat-card">
          <div class="stat-number">{{ profile.skills|length }}</div>
          <div class="stat-label">Total Skills</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">
            {{ profile.skills|selectattr('confidence', '>=', 0.8)|list|length }}
          </div>
          <div class="stat-label">High Confidence</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">
            {{ profile.skills|map(attribute='category')|unique|list|length }}
          </div>
          <div class="stat-label">Skill Categories</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">
            {{ profile.sources_used.values()|select|list|length }}
          </div>
          <div class="stat-label">Data Sources</div>
        </div>
      </div>

    
          
          <!-- Sources Used -->
          <div class="sources-used">
            {% if profile.sources_used.resume %}
            <div class="source-badge resume">
              <span>üìÑ</span>
              Resume Analysis
            </div>
            {% endif %}
            {% if profile.sources_used.linkedin %}
            <div class="source-badge linkedin">
              <span>üíº</span>
              LinkedIn Profile
            </div>
            {% endif %}
            {% if profile.sources_used.github %}
            <div class="source-badge github">
              <span>üêô</span>
              GitHub Profile
            </div>
            {% endif %}
          </div>

          <!-- Social Profiles -->
          <div class="social-profiles">
            {% if profile.linkedin_url %}
            <a href="{{ profile.linkedin_url }}" target="_blank" class="social-profile linkedin">
              <span>üíº</span>
              LinkedIn Profile
            </a>
            {% endif %}
            
            {% if profile.github_url %}
            <a href="{{ profile.github_url }}" target="_blank" class="social-profile github">
              <span>üêô</span>
              GitHub Profile
            </a>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Skills Grid -->
      <div class="skills-list">
        {% for skill in profile.skills %}
          <div class="skill-card" data-category="{{ skill.category }}">
            <!-- Skill Header -->
            <h3>{{ skill.skill.title() }}</h3>
            
            <!-- Confidence Badge -->
            {% if skill.confidence >= 0.8 %}
              {% set confidence_class = 'confidence-high' %}
            {% elif skill.confidence >= 0.6 %}
              {% set confidence_class = 'confidence-medium' %}
            {% else %}
              {% set confidence_class = 'confidence-low' %}
            {% endif %}
            
            <div class="confidence-badge {{ confidence_class }}">
              Confidence: {{ (skill.confidence * 100)|int }}%
            </div>

            <!-- Skill Meta -->
            <div class="skill-meta">
              <span class="skill-category">
                {{ skill.category }}
              </span>
              <div class="skill-sources">
                {% for source in skill.sources %}
                  <div class="source-dot {{ source }}" title="{{ source.title() }}"></div>
                {% endfor %}
              </div>
            </div>

            <!-- Evidence Section -->
            <div class="evidence-section">
              <strong>üìù Supporting Evidence</strong>
              {% if skill.evidence %}
                <ul class="evidence-list">
                  {% for evidence in skill.evidence %}
                    <li>{{ evidence }}</li>
                  {% endfor %}
                </ul>
              {% else %}
                <div class="no-evidence">
                  No specific evidence found
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>

    {% else %}
      <!-- No Skills Found -->
      <div class="no-skills">
        <div style="font-size: 4rem; margin-bottom: 20px;">üîç</div>
        <h3 style="margin-bottom: 10px;">No Skills Detected</h3>
        <p>Try providing more detailed information in your resume text or social profiles.</p>
      </div>
    {% endif %}
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add click animation to skill cards
      const skillCards = document.querySelectorAll('.skill-card');
      skillCards.forEach(card => {
        card.addEventListener('click', function() {
          this.style.transform = 'scale(0.98)';
          setTimeout(() => {
            this.style.transform = '';
          }, 150);
        });
      });

      // Add print button
      const printBtn = document.createElement('button');
      printBtn.textContent = 'üñ®Ô∏è Print Report';
      printBtn.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        z-index: 1000;
        transition: all 0.3s ease;
      `;
      
      printBtn.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-2px)';
        this.style.boxShadow = '0 6px 20px rgba(0,0,0,0.25)';
      });
      
      printBtn.addEventListener('mouseleave', function() {
        this.style.transform = '';
        this.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
      });
      
      printBtn.onclick = () => window.print();
      document.body.appendChild(printBtn);
    });
  </script>
</body>
</html>